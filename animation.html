<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Navify - Live Transit Data Visualization</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0D111C;
            color: #F1F5F9;
            overflow: hidden;
        }

        .map-container {
            position: absolute;
            inset: 0;
            background-image: radial-gradient(circle at 1px 1px, rgba(255,255,255,0.1) 1px, transparent 0);
            background-size: 20px 20px;
        }

        .map-svg {
            width: 100%;
            height: 100%;
            stroke: rgba(0, 255, 255, 0.2);
            stroke-width: 2;
            fill: transparent;
        }
        
        .route-path {
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
            animation: draw-route 5s ease-in-out forwards;
        }
        
        @keyframes draw-route {
            to {
                stroke-dashoffset: 0;
            }
        }

        .vehicle-icon {
            position: absolute;
            width: 24px;
            height: 24px;
            background: #00FFFF;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 15px 2px rgba(0, 255, 255, 0.7);
            transition: offset-distance 1s linear;
        }
        
        /* Animations for different vehicle paths */
        #vehicle1 { animation: move-vehicle1 20s linear infinite; }
        #vehicle2 { animation: move-vehicle2 25s linear infinite reverse; }
        #vehicle3 { animation: move-vehicle3 18s linear infinite; }
        #vehicle4 { animation: move-vehicle4 30s linear infinite; }

        @keyframes move-vehicle1 { 100% { offset-distance: 100%; } }
        @keyframes move-vehicle2 { 100% { offset-distance: 100%; } }
        @keyframes move-vehicle3 { 100% { offset-distance: 100%; } }
        @keyframes move-vehicle4 { 100% { offset-distance: 100%; } }

        .station-dot {
            position: absolute;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #34D399; /* Green for low traffic */
            border: 2px solid #0D111C;
            animation: pulse-station 5s infinite ease-in-out;
        }

        @keyframes pulse-station {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.3); }
        }
        
        .data-panel {
            background: rgba(13, 17, 28, 0.6);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 255, 255, 0.2);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.1);
        }
        
        .data-stream-text {
            text-shadow: 0 0 5px rgba(0, 255, 255, 0.7);
            animation: flicker 3s linear infinite;
        }
        
        @keyframes flicker {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

    </style>
</head>
<body>

    <div class="map-container">
        <svg id="map-svg" class="map-svg" viewBox="0 0 800 600">
            <!-- Define paths for vehicles -->
            <path id="route1-path" d="M 50 550 C 150 400, 250 100, 400 150 S 600 300, 750 100" class="route-path" style="animation-delay: 0s;"/>
            <path id="route2-path" d="M 50 50 C 200 150, 150 400, 400 450 S 650 550, 750 400" class="route-path" style="animation-delay: 1s;"/>
            <path id="route3-path" d="M 400 20 C 550 150, 500 450, 400 580" class="route-path" style="animation-delay: 2s; stroke: rgba(59, 130, 246, 0.3);"/>
            <path id="route4-path" d="M 100 300 C 250 250, 550 350, 700 300" class="route-path" style="animation-delay: 2.5s; stroke: rgba(52, 211, 153, 0.3);"/>
        </svg>

        <!-- Animated Vehicle Icons -->
        <div id="vehicle1" class="vehicle-icon" style="offset-path: path('M 50 550 C 150 400, 250 100, 400 150 S 600 300, 750 100');"><i data-lucide="bus" class="w-4 h-4 text-black"></i></div>
        <div id="vehicle2" class="vehicle-icon" style="offset-path: path('M 50 50 C 200 150, 150 400, 400 450 S 650 550, 750 400'); background-color: #3B82F6;"><i data-lucide="train-front" class="w-4 h-4 text-white"></i></div>
        <div id="vehicle3" class="vehicle-icon" style="offset-path: path('M 400 20 C 550 150, 500 450, 400 580');"><i data-lucide="bus" class="w-4 h-4 text-black"></i></div>
        <div id="vehicle4" class="vehicle-icon" style="offset-path: path('M 100 300 C 250 250, 550 350, 700 300'); background-color: #34D399;"><i data-lucide="tram-front" class="w-4 h-4 text-black"></i></div>

        <!-- Station Dots -->
        <div class="station-dot" style="top: 145px; left: 395px;"></div>
        <div class="station-dot" style="top: 445px; left: 395px; background-color: #FBBF24; animation-duration: 2s;"></div> <!-- Yellow for medium traffic -->
        <div class="station-dot" style="top: 295px; left: 100px;"></div>
        <div class="station-dot" style="top: 295px; left: 695px; background-color: #F87171; animation-duration: 1s;"></div> <!-- Red for high traffic -->
        <div class="station-dot" style="top: 45px; left: 45px;"></div>
        <div class="station-dot" style="top: 545px; left: 45px;"></div>
        <div class="station-dot" style="top: 95px; left: 745px;"></div>
        <div class="station-dot" style="top: 395px; left: 745px;"></div>
    </div>

    <!-- Overlay UI -->
    <div class="absolute inset-0 p-8 flex flex-col justify-between pointer-events-none">
        <!-- Header -->
        <div class="flex justify-between items-start">
            <div>
                 <div class="flex items-center space-x-3">
                    <svg viewBox="0 0 100 100" class="w-10 h-10">
                        <defs>
                            <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#4F46E5; stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#00FFFF; stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        <path d="M50 0 L95 25 L75 95 L25 95 L5 25 Z" fill="url(#logoGradient)"/>
                        <circle cx="50" cy="50" r="15" fill="#0D111C" />
                        <circle cx="50" cy="50" r="8" fill="url(#logoGradient)" />
                    </svg>
                    <h1 class="text-3xl font-bold tracking-wider text-white">Navify</h1>
                </div>
                <p class="text-cyan-300 text-sm mt-1">Live Transit Grid // City Metroplex</p>
            </div>
            
            <div class="text-right">
                <p id="time" class="text-3xl font-bold data-stream-text"></p>
                <p id="date" class="text-sm text-cyan-300"></p>
            </div>
        </div>

        <!-- Footer Data Panels -->
        <div class="flex space-x-6">
            <div class="data-panel rounded-lg p-4 w-1/3">
                <h2 class="text-sm font-bold text-cyan-300">SYSTEM STATUS</h2>
                <p class="text-2xl font-bold text-green-400 mt-2 flex items-center">
                    <span class="w-3 h-3 bg-green-400 rounded-full mr-2 animate-ping"></span>
                    ALL SYSTEMS NOMINAL
                </p>
            </div>
             <div class="data-panel rounded-lg p-4 w-1/3">
                <h2 class="text-sm font-bold text-cyan-300">ACTIVE VEHICLES</h2>
                <p id="active-vehicles" class="text-4xl font-bold mt-2 data-stream-text">0</p>
            </div>
             <div class="data-panel rounded-lg p-4 w-1/3">
                <h2 class="text-sm font-bold text-cyan-300">PASSENGER LOAD</h2>
                 <p id="passenger-load" class="text-4xl font-bold mt-2 text-yellow-400 data-stream-text">0%</p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();

            const timeEl = document.getElementById('time');
            const dateEl = document.getElementById('date');
            const activeVehiclesEl = document.getElementById('active-vehicles');
            const passengerLoadEl = document.getElementById('passenger-load');

            // Update time and date
            function updateTime() {
                const now = new Date();
                timeEl.textContent = now.toLocaleTimeString('en-US', { hour12: false });
                dateEl.textContent = now.toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
            }
            setInterval(updateTime, 1000);
            updateTime();
            
            // Simulate data updates
            function updateData() {
                // Animate active vehicles
                let currentVehicles = parseInt(activeVehiclesEl.textContent);
                let targetVehicles = Math.floor(Math.random() * (120 - 90 + 1) + 90);
                
                let vehicleInterval = setInterval(() => {
                    if (currentVehicles < targetVehicles) currentVehicles++;
                    else if(currentVehicles > targetVehicles) currentVehicles--;
                    else clearInterval(vehicleInterval);
                    activeVehiclesEl.textContent = currentVehicles;
                }, 50);

                // Animate passenger load
                let currentLoad = parseInt(passengerLoadEl.textContent);
                let targetLoad = Math.floor(Math.random() * (85 - 60 + 1) + 60);

                let loadInterval = setInterval(() => {
                    if (currentLoad < targetLoad) currentLoad++;
                    else if(currentLoad > targetLoad) currentLoad--;
                    else clearInterval(loadInterval);
                    passengerLoadEl.textContent = `${currentLoad}%`;
                }, 50);
                
                 if(targetLoad > 80) passengerLoadEl.classList.replace('text-yellow-400', 'text-red-400');
                 else if (targetLoad < 70) passengerLoadEl.classList.replace('text-red-400', 'text-yellow-400');

            }

            setInterval(updateData, 5000);
            setTimeout(updateData, 1000); // Initial call
        });
    </script>
</body>
</html>
